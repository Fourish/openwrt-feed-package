From 8456a5b5c99ef4544a2ed8e8f20a2fb673dd4192 Mon Sep 17 00:00:00 2001
From: Mike Gelfand <mikedld@mikedld.com>
Date: Sun, 1 Jan 2017 17:33:32 +0300
Subject: [PATCH 3/3] Don't break lines at 72 chars boundary

---
 src/cencode.c | 6 ++++++
 1 file changed, 6 insertions(+)

diff --git a/src/cencode.c b/src/cencode.c
index 03ba5b6..de3902f 100644
--- a/src/cencode.c
+++ b/src/cencode.c
@@ -7,7 +7,9 @@ For details, see http://sourceforge.net/projects/libb64
 
 #include <b64/cencode.h>
 
+/*
 const int CHARS_PER_LINE = 72;
+*/
 
 void base64_init_encodestate(base64_encodestate* state_in)
 {
@@ -72,12 +74,14 @@ int base64_encode_block(const char* plaintext_in, int length_in, char* code_out,
 			result  = (fragment & 0x03f) >> 0;
 			*codechar++ = base64_encode_value(result);
 			
+			/*
 			++(state_in->stepcount);
 			if (state_in->stepcount == CHARS_PER_LINE/4)
 			{
 				*codechar++ = '\n';
 				state_in->stepcount = 0;
 			}
+			*/
 		}
 	}
 	/* control should not reach here */
@@ -102,7 +106,9 @@ int base64_encode_blockend(char* code_out, base64_encodestate* state_in)
 	case step_A:
 		break;
 	}
+	/*
 	*codechar++ = '\n';
+	*/
 	
 	return codechar - code_out;
 }
-- 
2.14.3

