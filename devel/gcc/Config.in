# gcc library configuration
menu "Libraries"
	depends on PACKAGE_gcc
	config INCLUDE_STATIC_LIBC
		bool "Include static libc on target"
		help
			Copies libc.a to target device
			Increases the size of an already
			very large package
		default n
	config INCLUDE_STATIC_LIBPTHREAD
		bool "Include static libpthread on target"
		help
			Copies libpthread.a to target device
			Increases the size of an already
			very large package
		default n
	config INCLUDE_STATIC_LIBSTDC
		bool "Include static libstdc++ on target"
		help
			Copies libstdc++.a to target device
			Increases the size of an already
			very large package
		default n
	config INCLUDE_STATIC_LINK_SPEC
		depends on INCLUDE_STATIC_LIBSTDC
		bool "Generate spec file for easy static c++ linking on target"
		help
			Creates a spec file for gcc to eliminate the need for
			-lstdc++, -libgcc_pic and -static-libstdc flags when
			statically linking c++ programs
			This doesn't work if the package is built into the
			image, you need to generate the spec file after
			installing the image. For example run:
			g++ -dumpspecs |sed s/--start-group}\ %G\ %L\ /--start-group}\ %G\ %L\ -lstdc++\ -lgcc_pic\ / >/usr/lib/gcc/x86_64-openwrt-linux-musl/7.4.0/specs
			on a x86_64 system
		default n
endmenu

