Subject: [PATCH] Run as user radicale and group radicale

Patch to run Radicale service as radicale:radicale non root user

Signed-off-by: Christian Schoenebeck <christian.schoenebeck@gmail.com>
---
 radicale.py | 7 +++++++
 1 file changed, 7 insertions(+)

diff --git a/radicale.py b/radicale.py
index 619aca5..7466020 100755
--- a/radicale.py
+++ b/radicale.py
@@ -25,6 +25,13 @@ Launch the server according to configuration and command-line options.
 
 """
 
+# inserted to run as user radicale
+import pwd, grp, os
+uid = pwd.getpwnam('radicale').pw_uid
+gid = grp.getgrnam('radicale').gr_gid
+os.setegid(gid)
+os.seteuid(uid)
+
 import radicale.__main__
 
 radicale.__main__.run()
-- 
2.1.0

