diff -u --recursive nfs-utils-1.3.3-vanilla/support/export/hostname.c nfs-utils-1.3.3/support/export/hostname.c
--- nfs-utils-1.3.3-vanilla/support/export/hostname.c	2016-03-31 20:14:11.101902452 -0400
+++ nfs-utils-1.3.3/support/export/hostname.c	2016-03-31 20:15:40.619134622 -0400
@@ -101,6 +101,7 @@
 		.ai_protocol	= (int)IPPROTO_UDP,
 		.ai_flags	= AI_NUMERICHOST,
 		.ai_family	= AF_UNSPEC,
+		.ai_socktype    = 0,
 	};
 	struct sockaddr_in sin;
 	int error, inet4;
@@ -350,7 +351,9 @@
 
 	/*
 	 * getaddrinfo(AI_NUMERICHOST) never fills in ai_canonname
+	 * ...well, it does on uclibc.
 	 */
+#ifndef __UCLIBC__
 	if (ai != NULL) {
 		free(ai->ai_canonname);		/* just in case */
 		ai->ai_canonname = strdup(buf);
@@ -359,6 +362,7 @@
 			ai = NULL;
 		}
 	}
+#endif
 
 	return ai;
 }
